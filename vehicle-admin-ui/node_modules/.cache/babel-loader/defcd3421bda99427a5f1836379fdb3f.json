{"remainingRequest":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/thread-loader/dist/cjs.js!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/drag-drawer/drag-drawer.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/drag-drawer/drag-drawer.vue","mtime":1734063882398},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/.babelrc","mtime":1734230871032},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/thread-loader/dist/cjs.js","mtime":1734234711278},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1734234712752},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1734234711707}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.number.constructor\";\nimport RenderDom from '@/libs/render-dom';\nimport DragDrawerTrigger from \"./drag-drawer-trigger.vue\";\nimport Mixin from \"./mixin\";\nimport { on, off } from '@/libs/tools';\nimport \"./index.less\";\nexport default {\n  name: 'BDrawer',\n  components: {\n    RenderDom: RenderDom,\n    DragDrawerTrigger: DragDrawerTrigger\n  },\n  mixins: [Mixin],\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    width: {\n      type: [String, Number],\n      default: 256\n    },\n    // 是否可拖动修改宽度\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    // 最小拖动宽度\n    minWidth: {\n      type: [String, Number],\n      default: 256\n    }\n  },\n  data: function data() {\n    return {\n      canMove: false,\n      wrapperWidth: 0,\n      wrapperLeft: 0\n    };\n  },\n  computed: {\n    outerClasses: function outerClasses() {\n      var classesArray = [\"\".concat(this.prefix, \"-wrapper\"), this.canMove ? 'no-select pointer-events-none' : ''];\n      return classesArray.join(' ');\n    },\n    placement: function placement() {\n      return this.$attrs.placement;\n    },\n    innerWidth: function innerWidth() {\n      var width = this.width;\n      return width <= 100 ? this.wrapperWidth * width / 100 : width;\n    },\n    triggerStyle: function triggerStyle() {\n      return _defineProperty(_defineProperty({}, this.placement, \"\".concat(this.innerWidth, \"px\")), \"position\", this.$attrs.inner ? 'absolute' : 'fixed');\n    }\n  },\n  methods: {\n    handleInput: function handleInput(status) {\n      this.$emit('input', status);\n    },\n    handleTriggerMousedown: function handleTriggerMousedown(event) {\n      this.canMove = true;\n      this.$emit('on-resize-start');\n      // 防止鼠标选中抽屉中文字，造成拖动trigger触发浏览器原生拖动行为\n      window.getSelection().removeAllRanges();\n    },\n    handleMousemove: function handleMousemove(event) {\n      if (!this.canMove) return;\n      // 更新容器宽度和距离左侧页面距离，如果是window则距左侧距离为0\n      this.setWrapperWidth();\n      var left = event.pageX - this.wrapperLeft;\n      // 如果抽屉方向为右边，宽度计算需用容器宽度减去left\n      var width = this.placement === 'right' ? this.wrapperWidth - left : left;\n      // 限定做小宽度\n      width = Math.max(width, parseFloat(this.minWidth));\n      event.atMin = width === parseFloat(this.minWidth);\n      // 如果当前width不大于100，视为百分比\n      if (width <= 100) width = width / this.wrapperWidth * 100;\n      this.$emit('update:width', parseInt(width));\n      this.$emit('on-resize', event);\n    },\n    handleMouseup: function handleMouseup(event) {\n      this.canMove = false;\n      this.$emit('on-resize-end');\n    },\n    setWrapperWidth: function setWrapperWidth() {\n      var _this$$refs$drawerWra = this.$refs.drawerWrapper.$el.getBoundingClientRect(),\n        width = _this$$refs$drawerWra.width,\n        left = _this$$refs$drawerWra.left;\n      this.wrapperWidth = width;\n      this.wrapperLeft = left;\n    }\n  },\n  mounted: function mounted() {\n    on(document, 'mousemove', this.handleMousemove);\n    on(document, 'mouseup', this.handleMouseup);\n    this.setWrapperWidth();\n  },\n  beforeDestroy: function beforeDestroy() {\n    off(document, 'mousemove', this.handleMousemove);\n    off(document, 'mouseup', this.handleMouseup);\n  }\n};",null]}