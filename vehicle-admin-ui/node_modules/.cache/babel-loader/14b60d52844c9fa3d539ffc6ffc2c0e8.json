{"remainingRequest":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/drag-drawer/drag-drawer.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/drag-drawer/drag-drawer.vue","mtime":1734063882398},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/.babelrc","mtime":1734230871032},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1734234712752},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1734234711707}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.number.constructor\";\nimport RenderDom from '@/libs/render-dom';\nimport DragDrawerTrigger from \"./drag-drawer-trigger.vue\";\nimport Mixin from \"./mixin\";\nimport { on, off } from '@/libs/tools';\nimport \"./index.less\";\nexport default {\n  name: 'BDrawer',\n  components: {\n    RenderDom: RenderDom,\n    DragDrawerTrigger: DragDrawerTrigger\n  },\n  mixins: [Mixin],\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    width: {\n      type: [String, Number],\n      default: 256\n    },\n    // 是否可拖动修改宽度\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    // 最小拖动宽度\n    minWidth: {\n      type: [String, Number],\n      default: 256\n    }\n  },\n  data: function data() {\n    return {\n      canMove: false,\n      wrapperWidth: 0,\n      wrapperLeft: 0\n    };\n  },\n  computed: {\n    outerClasses: function outerClasses() {\n      var classesArray = [\"\".concat(this.prefix, \"-wrapper\"), this.canMove ? 'no-select pointer-events-none' : ''];\n      return classesArray.join(' ');\n    },\n    placement: function placement() {\n      return this.$attrs.placement;\n    },\n    innerWidth: function innerWidth() {\n      var width = this.width;\n      return width <= 100 ? this.wrapperWidth * width / 100 : width;\n    },\n    triggerStyle: function triggerStyle() {\n      return _defineProperty(_defineProperty({}, this.placement, \"\".concat(this.innerWidth, \"px\")), \"position\", this.$attrs.inner ? 'absolute' : 'fixed');\n    }\n  },\n  methods: {\n    handleInput: function handleInput(status) {\n      this.$emit('input', status);\n    },\n    handleTriggerMousedown: function handleTriggerMousedown(event) {\n      this.canMove = true;\n      this.$emit('on-resize-start');\n      // 防止鼠标选中抽屉中文字，造成拖动trigger触发浏览器原生拖动行为\n      window.getSelection().removeAllRanges();\n    },\n    handleMousemove: function handleMousemove(event) {\n      if (!this.canMove) return;\n      // 更新容器宽度和距离左侧页面距离，如果是window则距左侧距离为0\n      this.setWrapperWidth();\n      var left = event.pageX - this.wrapperLeft;\n      // 如果抽屉方向为右边，宽度计算需用容器宽度减去left\n      var width = this.placement === 'right' ? this.wrapperWidth - left : left;\n      // 限定做小宽度\n      width = Math.max(width, parseFloat(this.minWidth));\n      event.atMin = width === parseFloat(this.minWidth);\n      // 如果当前width不大于100，视为百分比\n      if (width <= 100) width = width / this.wrapperWidth * 100;\n      this.$emit('update:width', parseInt(width));\n      this.$emit('on-resize', event);\n    },\n    handleMouseup: function handleMouseup(event) {\n      this.canMove = false;\n      this.$emit('on-resize-end');\n    },\n    setWrapperWidth: function setWrapperWidth() {\n      var _this$$refs$drawerWra = this.$refs.drawerWrapper.$el.getBoundingClientRect(),\n        width = _this$$refs$drawerWra.width,\n        left = _this$$refs$drawerWra.left;\n      this.wrapperWidth = width;\n      this.wrapperLeft = left;\n    }\n  },\n  mounted: function mounted() {\n    on(document, 'mousemove', this.handleMousemove);\n    on(document, 'mouseup', this.handleMouseup);\n    this.setWrapperWidth();\n  },\n  beforeDestroy: function beforeDestroy() {\n    off(document, 'mousemove', this.handleMousemove);\n    off(document, 'mouseup', this.handleMouseup);\n  }\n};",{"version":3,"names":["RenderDom","DragDrawerTrigger","Mixin","on","off","name","components","mixins","props","value","type","Boolean","default","width","String","Number","draggable","minWidth","data","canMove","wrapperWidth","wrapperLeft","computed","outerClasses","classesArray","concat","prefix","join","placement","$attrs","innerWidth","triggerStyle","_defineProperty","inner","methods","handleInput","status","$emit","handleTriggerMousedown","event","window","getSelection","removeAllRanges","handleMousemove","setWrapperWidth","left","pageX","Math","max","parseFloat","atMin","parseInt","handleMouseup","_this$$refs$drawerWra","$refs","drawerWrapper","$el","getBoundingClientRect","mounted","document","beforeDestroy"],"sources":["src/components/drag-drawer/drag-drawer.vue"],"sourcesContent":["<template>\n  <Drawer ref=\"drawerWrapper\"\n          :value=\"value\"\n          @input=\"handleInput\"\n          :width=\"width\"\n          :class-name=\"outerClasses\"\n          v-bind=\"$attrs\"\n          v-on=\"$listeners\">\n    <!-- 所有插槽内容显示在这里 ↓ -->\n\n    <template v-for=\"(slots, slotsName) in $slots\">\n      <template v-if=\"slotsName !== 'default'\">\n        <render-dom v-for=\"(render, index) in slots\"\n                    :key=\"`b_drawer_${slotsName}_${index}`\"\n                    :render=\"() => render\"\n                    :slot=\"slotsName\">\n        </render-dom>\n      </template>\n      <template v-else>\n        <div :class=\"`${prefix}-body-wrapper`\"\n             :key=\"`b_drawer_${slotsName}`\">\n          <render-dom v-for=\"(render, index) in slots\"\n                      :key=\"`b_drawer_${slotsName}_${index}`\"\n                      :render=\"() => render\"\n                      :slot=\"slotsName\">\n          </render-dom>\n        </div>\n      </template>\n    </template>\n    <!-- 所有插槽内容显示在这里 ↑ -->\n    <div v-if=\"draggable\"\n         :style=\"triggerStyle\"\n         :class=\"`${prefix}-trigger-wrapper`\"\n         @mousedown=\"handleTriggerMousedown\">\n      <slot name=\"trigger\">\n        <drag-drawer-trigger></drag-drawer-trigger>\n      </slot>\n    </div>\n    <div v-if=\"$slots.footer\"\n         :class=\"`${prefix}-footer`\">\n      <slot name=\"footer\"></slot>\n    </div>\n  </Drawer>\n</template>\n\n<script>\n  import RenderDom from '@/libs/render-dom'\n  import DragDrawerTrigger from './drag-drawer-trigger.vue'\n  import Mixin from './mixin'\n  import { on, off } from '@/libs/tools'\n  import './index.less'\n\n  export default {\n    name: 'BDrawer',\n    components: {\n      RenderDom,\n      DragDrawerTrigger\n    },\n    mixins: [Mixin],\n    props: {\n      value: {\n        type: Boolean,\n        default: false\n      },\n      width: {\n        type: [String, Number],\n        default: 256\n      },\n      // 是否可拖动修改宽度\n      draggable: {\n        type: Boolean,\n        default: false\n      },\n      // 最小拖动宽度\n      minWidth: {\n        type: [String, Number],\n        default: 256\n      }\n    },\n    data () {\n      return {\n        canMove: false,\n        wrapperWidth: 0,\n        wrapperLeft: 0\n      }\n    },\n    computed: {\n      outerClasses () {\n        const classesArray = [\n          `${this.prefix}-wrapper`,\n          this.canMove ? 'no-select pointer-events-none' : ''\n        ]\n        return classesArray.join(' ')\n      },\n      placement () {\n        return this.$attrs.placement\n      },\n      innerWidth () {\n        const width = this.width\n        return width <= 100 ? (this.wrapperWidth * width) / 100 : width\n      },\n      triggerStyle () {\n        return {\n          [this.placement]: `${this.innerWidth}px`,\n          position: this.$attrs.inner ? 'absolute' : 'fixed'\n        }\n      }\n    },\n    methods: {\n      handleInput (status) {\n        this.$emit('input', status)\n      },\n      handleTriggerMousedown (event) {\n        this.canMove = true\n        this.$emit('on-resize-start')\n        // 防止鼠标选中抽屉中文字，造成拖动trigger触发浏览器原生拖动行为\n        window.getSelection().removeAllRanges()\n      },\n      handleMousemove (event) {\n        if (!this.canMove) return\n        // 更新容器宽度和距离左侧页面距离，如果是window则距左侧距离为0\n        this.setWrapperWidth()\n        const left = event.pageX - this.wrapperLeft\n        // 如果抽屉方向为右边，宽度计算需用容器宽度减去left\n        let width = this.placement === 'right' ? this.wrapperWidth - left : left\n        // 限定做小宽度\n        width = Math.max(width, parseFloat(this.minWidth))\n        event.atMin = width === parseFloat(this.minWidth)\n        // 如果当前width不大于100，视为百分比\n        if (width <= 100) width = (width / this.wrapperWidth) * 100\n        this.$emit('update:width', parseInt(width))\n        this.$emit('on-resize', event)\n      },\n      handleMouseup (event) {\n        this.canMove = false\n        this.$emit('on-resize-end')\n      },\n      setWrapperWidth () {\n        const {\n          width,\n          left\n        } = this.$refs.drawerWrapper.$el.getBoundingClientRect()\n        this.wrapperWidth = width\n        this.wrapperLeft = left\n      }\n    },\n    mounted () {\n      on(document, 'mousemove', this.handleMousemove)\n      on(document, 'mouseup', this.handleMouseup)\n      this.setWrapperWidth()\n    },\n    beforeDestroy () {\n      off(document, 'mousemove', this.handleMousemove)\n      off(document, 'mouseup', this.handleMouseup)\n    }\n  }\n</script>\n"],"mappings":"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","ignoreList":[]}]}