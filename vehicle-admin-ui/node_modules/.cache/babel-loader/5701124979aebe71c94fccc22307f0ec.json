{"remainingRequest":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/List/components/List/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/List/components/List/index.vue","mtime":1734063882389},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/.babelrc","mtime":1734230871032},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1734234712752},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1734234711707}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.number.constructor\";\nimport consts from '@/utils/consts';\nexport default {\n  name: 'list',\n  props: {\n    hasPermission: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    page: {\n      type: Boolean,\n      default: true\n    },\n    pageNo: {\n      type: Number,\n      default: 1\n    },\n    pageSize: {\n      type: Number,\n      default: consts.PAGE_SIZE\n    },\n    columns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    total: {\n      type: Number,\n      default: 0\n    },\n    showHeader: {\n      type: Boolean,\n      default: true\n    },\n    singleSelect: {\n      type: Boolean,\n      default: false\n    },\n    crossPageSelect: {\n      type: Boolean,\n      default: false\n    },\n    crossPageSelection: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      consts: consts,\n      tableData: []\n    };\n  },\n  computed: {\n    tableColumns: function tableColumns() {\n      if (this.singleSelect) {\n        return this.columns.filter(function (item) {\n          return item.type !== 'selection';\n        });\n      } else {\n        return this.columns;\n      }\n    }\n  },\n  watch: {\n    data: function data(_data) {\n      var currentPageKey = 'page' + this.pageNo + 'Selection';\n      if (this.crossPageSelect && this.crossPageSelection.hasOwnProperty(currentPageKey)) {\n        var currentPageSelection = this.crossPageSelection[currentPageKey];\n        this.tableData = _data.map(function (item, index, array) {\n          var itemSelect = currentPageSelection.some(function (val, i, arr) {\n            return val.id === item.id;\n          });\n          if (itemSelect) {\n            return Object.assign(item, {\n              _checked: true\n            });\n          } else {\n            return item;\n          }\n        });\n      } else {\n        this.tableData = _data;\n      }\n    }\n  },\n  methods: {\n    handleClearCurrentRow: function handleClearCurrentRow() {\n      this.$refs.selection.clearCurrentRow();\n    },\n    handleSelectionChange: function handleSelectionChange(selection) {\n      var _this = this;\n      if (this.crossPageSelect) {\n        Object.assign(this.crossPageSelection, _defineProperty({}, 'page' + this.pageNo + 'Selection', selection));\n        var crossPageSelection = [];\n        Object.keys(this.crossPageSelection).map(function (key) {\n          if (_this.crossPageSelection[key] && _this.crossPageSelection[key].length > 0) {\n            crossPageSelection.push.apply(crossPageSelection, _toConsumableArray(_this.crossPageSelection[key]));\n          }\n        });\n        this.$emit('on-selection-change', crossPageSelection);\n      } else {\n        this.$emit('on-selection-change', selection);\n      }\n    },\n    handlePageChange: function handlePageChange(pageNo) {\n      this.$emit('on-page-change', pageNo);\n    },\n    handleCurrentChange: function handleCurrentChange(currentRow, oldCurrentRow) {\n      this.$emit('on-current-change', currentRow, oldCurrentRow);\n    }\n  }\n};",{"version":3,"names":["consts","name","props","hasPermission","type","Boolean","default","loading","page","pageNo","Number","pageSize","PAGE_SIZE","columns","Array","data","total","showHeader","singleSelect","crossPageSelect","crossPageSelection","Object","tableData","computed","tableColumns","filter","item","watch","currentPageKey","hasOwnProperty","currentPageSelection","map","index","array","itemSelect","some","val","i","arr","id","assign","_checked","methods","handleClearCurrentRow","$refs","selection","clearCurrentRow","handleSelectionChange","_this","_defineProperty","keys","key","length","push","apply","_toConsumableArray","$emit","handlePageChange","handleCurrentChange","currentRow","oldCurrentRow"],"sources":["src/components/List/components/List/index.vue"],"sourcesContent":["<template>\n  <div>\n    <slot></slot>\n    <Table ref=\"selection\" :loading=\"loading\" :show-header=\"showHeader\" :highlight-row=\"singleSelect\"\n           :columns=\"tableColumns\" :data=\"tableData\" :no-data-text=\"hasPermission ? (loading ? '加载中...' : (tableData.length == 0 ? '未查找到记录' : '')) : '未经授权, 请联系管理员'\" class=\"margin-bottom\" border\n           @on-selection-change=\"handleSelectionChange\" @on-current-change=\"handleCurrentChange\"></Table>\n    <Page v-if=\"page\" :total=\"total\" :current=\"pageNo\" :page-size=\"pageSize\" show-total show-elevator\n          @on-change=\"handlePageChange\" style=\"float: left; margin-top:5px;\" size=\"small\"></Page>\n    <Button v-if=\"singleSelect\" type=\"default\" style=\"margin-left: 10px; margin-top:5px;\" @click=\"handleClearCurrentRow\" size=\"small\">清除单选</Button>\n  </div>\n</template>\n\n<script>\n  import consts from '@/utils/consts'\n\n  export default {\n    name: 'list',\n    props: {\n      hasPermission: {\n        type: Boolean,\n        default: false\n      },\n      loading: {\n        type: Boolean,\n        default: false\n      },\n      page: {\n        type: Boolean,\n        default: true\n      },\n      pageNo: {\n        type: Number,\n        default: 1\n      },\n      pageSize: {\n        type: Number,\n        default: consts.PAGE_SIZE\n      },\n      columns: {\n        type: Array,\n        default () {\n          return []\n        }\n      },\n      data: {\n        type: Array,\n        default () {\n          return []\n        }\n      },\n      total: {\n        type: Number,\n        default: 0\n      },\n      showHeader: {\n        type: Boolean,\n        default: true\n      },\n      singleSelect: {\n        type: Boolean,\n        default: false\n      },\n      crossPageSelect: {\n        type: Boolean,\n        default: false\n      },\n      crossPageSelection: {\n        type: Object,\n        default () {\n          return {}\n        }\n      }\n    },\n    data () {\n      return {\n        consts,\n        tableData: []\n      }\n    },\n    computed: {\n      tableColumns () {\n        if (this.singleSelect) {\n          return this.columns.filter(function (item) {\n            return item.type !== 'selection'\n          })\n        } else {\n          return this.columns\n        }\n      }\n    },\n    watch: {\n      data: function (data) {\n        let currentPageKey = 'page' + this.pageNo + 'Selection'\n        if (this.crossPageSelect && this.crossPageSelection.hasOwnProperty(currentPageKey)) {\n          let currentPageSelection = this.crossPageSelection[currentPageKey]\n          this.tableData = data.map(function (item, index, array) {\n            let itemSelect = currentPageSelection.some(function (val, i, arr) {\n              return val.id === item.id\n            })\n            if (itemSelect) {\n              return Object.assign(item, {\n                _checked: true\n              })\n            } else {\n              return item\n            }\n          })\n        } else {\n          this.tableData = data\n        }\n      }\n    },\n    methods: {\n      handleClearCurrentRow () {\n        this.$refs.selection.clearCurrentRow()\n      },\n      handleSelectionChange (selection) {\n        if (this.crossPageSelect) {\n          Object.assign(this.crossPageSelection, {\n            ['page' + this.pageNo + 'Selection']: selection\n          })\n\n          let crossPageSelection = []\n          Object.keys(this.crossPageSelection).map((key) => {\n            if (this.crossPageSelection[key] && this.crossPageSelection[key].length > 0) {\n              crossPageSelection.push(...this.crossPageSelection[key])\n            }\n          })\n          this.$emit('on-selection-change', crossPageSelection)\n        } else {\n          this.$emit('on-selection-change', selection)\n        }\n      },\n      handlePageChange (pageNo) {\n        this.$emit('on-page-change', pageNo)\n      },\n      handleCurrentChange (currentRow, oldCurrentRow) {\n        this.$emit('on-current-change', currentRow, oldCurrentRow)\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  @import \"styles/index.less\";\n</style>\n"],"mappings":"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","ignoreList":[]}]}