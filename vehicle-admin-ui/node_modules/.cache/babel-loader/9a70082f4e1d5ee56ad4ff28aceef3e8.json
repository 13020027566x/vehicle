{"remainingRequest":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/cropper/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/src/components/cropper/index.vue","mtime":1734063882378},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/.babelrc","mtime":1734230871032},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1734234712752},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1734234711738},{"path":"/Users/TaoBangren/gitee/finhub-vehicle/vehicle-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1734234711707}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport Cropper from 'cropperjs';\nimport \"./index.less\";\nimport 'cropperjs/dist/cropper.min.css';\nexport default {\n  name: 'Cropper',\n  props: {\n    src: {\n      type: String,\n      default: ''\n    },\n    preview: {\n      type: Boolean,\n      default: true\n    },\n    moveStep: {\n      type: Number,\n      default: 4\n    },\n    cropButtonText: {\n      type: String,\n      default: '裁剪'\n    }\n  },\n  data: function data() {\n    return {\n      cropper: null,\n      insideSrc: ''\n    };\n  },\n  computed: {\n    imgId: function imgId() {\n      return \"cropper\".concat(this._uid);\n    },\n    previewId: function previewId() {\n      return \"cropper_preview\".concat(this._uid);\n    }\n  },\n  watch: {\n    src: function src(_src) {\n      this.replace(_src);\n    },\n    insideSrc: function insideSrc(src) {\n      this.replace(src);\n    }\n  },\n  methods: {\n    beforeUpload: function beforeUpload(file) {\n      var _this = this;\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = function (event) {\n        _this.insideSrc = event.srcElement.result;\n      };\n      return false;\n    },\n    replace: function replace(src) {\n      this.cropper.replace(src);\n      this.insideSrc = src;\n    },\n    rotate: function rotate() {\n      this.cropper.rotate(90);\n    },\n    shrink: function shrink() {\n      this.cropper.zoom(-0.1);\n    },\n    magnify: function magnify() {\n      this.cropper.zoom(0.1);\n    },\n    scale: function scale(d) {\n      this.cropper[\"scale\".concat(d)](-this.cropper.getData()[\"scale\".concat(d)]);\n    },\n    move: function move() {\n      var _this$cropper;\n      (_this$cropper = this.cropper).move.apply(_this$cropper, arguments);\n    },\n    crop: function crop() {\n      var _this2 = this;\n      this.cropper.getCroppedCanvas().toBlob(function (blob) {\n        _this2.$emit('on-crop', blob);\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n    this.$nextTick(function () {\n      var dom = document.getElementById(_this3.imgId);\n      _this3.cropper = new Cropper(dom, {\n        preview: \"#\".concat(_this3.previewId),\n        checkCrossOrigin: true\n      });\n    });\n  }\n};",{"version":3,"names":["Cropper","name","props","src","type","String","default","preview","Boolean","moveStep","Number","cropButtonText","data","cropper","insideSrc","computed","imgId","concat","_uid","previewId","watch","replace","methods","beforeUpload","file","_this","reader","FileReader","readAsDataURL","onload","event","srcElement","result","rotate","shrink","zoom","magnify","scale","d","getData","move","_this$cropper","apply","arguments","crop","_this2","getCroppedCanvas","toBlob","blob","$emit","mounted","_this3","$nextTick","dom","document","getElementById","checkCrossOrigin"],"sources":["src/components/cropper/index.vue"],"sourcesContent":["<template>\n  <div class=\"cropper-wrapper\">\n    <div class=\"img-box\">\n      <img class=\"cropper-image\" :id=\"imgId\" alt=\"\">\n    </div>\n    <div class=\"right-con\">\n      <div v-if=\"preview\" class=\"preview-box\" :id=\"previewId\"></div>\n      <div class=\"button-box\">\n        <slot>\n          <Upload action=\"image/upload\" :before-upload=\"beforeUpload\">\n            <Button style=\"width: 150px;\" type=\"primary\">上传图片</Button>\n          </Upload>\n        </slot>\n        <div v-show=\"insideSrc\">\n          <Button type=\"primary\" @click=\"rotate\">\n            <Icon type=\"md-refresh\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"shrink\">\n            <Icon type=\"md-remove\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"magnify\">\n            <Icon type=\"md-add\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"scale('X')\">\n            <Icon custom=\"iconfont icon-shuipingfanzhuan\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"scale('Y')\">\n            <Icon custom=\"iconfont icon-chuizhifanzhuan\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"move(0, -moveStep)\">\n            <Icon type=\"md-arrow-round-up\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"move(-moveStep, 0)\">\n            <Icon type=\"md-arrow-round-back\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"move(0, moveStep)\">\n            <Icon type=\"md-arrow-round-down\" :size=\"18\"/>\n          </Button>\n          <Button type=\"primary\" @click=\"move(moveStep, 0)\">\n            <Icon type=\"md-arrow-round-forward\" :size=\"18\"/>\n          </Button>\n          <Button style=\"width: 150px;margin-top: 10px;\" type=\"primary\" @click=\"crop\">{{ cropButtonText }}</Button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Cropper from 'cropperjs'\n  import './index.less'\n  import 'cropperjs/dist/cropper.min.css'\n\n  export default {\n    name: 'Cropper',\n    props: {\n      src: {\n        type: String,\n        default: ''\n      },\n      preview: {\n        type: Boolean,\n        default: true\n      },\n      moveStep: {\n        type: Number,\n        default: 4\n      },\n      cropButtonText: {\n        type: String,\n        default: '裁剪'\n      }\n    },\n    data () {\n      return {\n        cropper: null,\n        insideSrc: ''\n      }\n    },\n    computed: {\n      imgId () {\n        return `cropper${this._uid}`\n      },\n      previewId () {\n        return `cropper_preview${this._uid}`\n      }\n    },\n    watch: {\n      src (src) {\n        this.replace(src)\n      },\n      insideSrc (src) {\n        this.replace(src)\n      }\n    },\n    methods: {\n      beforeUpload (file) {\n        const reader = new FileReader()\n        reader.readAsDataURL(file)\n        reader.onload = (event) => {\n          this.insideSrc = event.srcElement.result\n        }\n        return false\n      },\n      replace (src) {\n        this.cropper.replace(src)\n        this.insideSrc = src\n      },\n      rotate () {\n        this.cropper.rotate(90)\n      },\n      shrink () {\n        this.cropper.zoom(-0.1)\n      },\n      magnify () {\n        this.cropper.zoom(0.1)\n      },\n      scale (d) {\n        this.cropper[`scale${d}`](-this.cropper.getData()[`scale${d}`])\n      },\n      move (...argu) {\n        this.cropper.move(...argu)\n      },\n      crop () {\n        this.cropper.getCroppedCanvas().toBlob(blob => {\n          this.$emit('on-crop', blob)\n        })\n      }\n    },\n    mounted () {\n      this.$nextTick(() => {\n        let dom = document.getElementById(this.imgId)\n        this.cropper = new Cropper(dom, {\n          preview: `#${this.previewId}`,\n          checkCrossOrigin: true\n        })\n      })\n    }\n  }\n</script>\n"],"mappings":";;AAiDA,OAAAA,OAAA;AACA;AACA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,GAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,OAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAG,QAAA;MACAL,IAAA,EAAAM,MAAA;MACAJ,OAAA;IACA;IACAK,cAAA;MACAP,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAM,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACAC,KAAA,WAAAA,MAAA;MACA,iBAAAC,MAAA,MAAAC,IAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,yBAAAF,MAAA,MAAAC,IAAA;IACA;EACA;EACAE,KAAA;IACAjB,GAAA,WAAAA,QAAA;MACA,KAAAkB,OAAA,CAAAlB,IAAA;IACA;IACAW,SAAA,WAAAA,UAAAX,GAAA;MACA,KAAAkB,OAAA,CAAAlB,GAAA;IACA;EACA;EACAmB,OAAA;IACAC,YAAA,WAAAA,aAAAC,IAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,MAAA,OAAAC,UAAA;MACAD,MAAA,CAAAE,aAAA,CAAAJ,IAAA;MACAE,MAAA,CAAAG,MAAA,aAAAC,KAAA;QACAL,KAAA,CAAAX,SAAA,GAAAgB,KAAA,CAAAC,UAAA,CAAAC,MAAA;MACA;MACA;IACA;IACAX,OAAA,WAAAA,QAAAlB,GAAA;MACA,KAAAU,OAAA,CAAAQ,OAAA,CAAAlB,GAAA;MACA,KAAAW,SAAA,GAAAX,GAAA;IACA;IACA8B,MAAA,WAAAA,OAAA;MACA,KAAApB,OAAA,CAAAoB,MAAA;IACA;IACAC,MAAA,WAAAA,OAAA;MACA,KAAArB,OAAA,CAAAsB,IAAA;IACA;IACAC,OAAA,WAAAA,QAAA;MACA,KAAAvB,OAAA,CAAAsB,IAAA;IACA;IACAE,KAAA,WAAAA,MAAAC,CAAA;MACA,KAAAzB,OAAA,SAAAI,MAAA,CAAAqB,CAAA,SAAAzB,OAAA,CAAA0B,OAAA,WAAAtB,MAAA,CAAAqB,CAAA;IACA;IACAE,IAAA,WAAAA,KAAA;MAAA,IAAAC,aAAA;MACA,CAAAA,aAAA,QAAA5B,OAAA,EAAA2B,IAAA,CAAAE,KAAA,CAAAD,aAAA,EAAAE,SAAA;IACA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,MAAA;MACA,KAAAhC,OAAA,CAAAiC,gBAAA,GAAAC,MAAA,WAAAC,IAAA;QACAH,MAAA,CAAAI,KAAA,YAAAD,IAAA;MACA;IACA;EACA;EACAE,OAAA,WAAAA,QAAA;IAAA,IAAAC,MAAA;IACA,KAAAC,SAAA;MACA,IAAAC,GAAA,GAAAC,QAAA,CAAAC,cAAA,CAAAJ,MAAA,CAAAnC,KAAA;MACAmC,MAAA,CAAAtC,OAAA,OAAAb,OAAA,CAAAqD,GAAA;QACA9C,OAAA,MAAAU,MAAA,CAAAkC,MAAA,CAAAhC,SAAA;QACAqC,gBAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}